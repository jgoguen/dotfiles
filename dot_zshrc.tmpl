# vim: set filetype=zsh:
# Do not edit this file directly! It is managed by chezmoi.

if [ -z "${TERM}" ] || [ "${TERM}" = "vscode" ] || [[ ! -o interactive ]]; then
	return
fi

RC_START=${SECONDS}

export USER_ZSH="${XDG_DATA_HOME}/zsh"
export ZSH_CACHE_DIR="${XDG_CACHE_HOME}/zsh/completion"

for f in "${USER_ZSH}"/conf.d/pre/*.zsh; do
	source "${f}"
done

for f in "${USER_ZSH}"/conf.d/*.zsh; do
	source "${f}"
done

for f in "${USER_ZSH}"/conf.d/post/*.zsh; do
	source "${f}"
done

{{ if eq .chezmoi.os "darwin" -}}
unset BREW_PREFIX
{{- end }}
unset USER_ZSH
unset ZSH_CACHE_DIR

if [ -f "${HOME}/.zshrc.local" ]; then
	. "${HOME}/.zshrc.local"
fi

RC_TIME=$(($SECONDS - $RC_START))
printf 'Shell startup took %s\n' "$(elapsed-time $RC_TIME)"
