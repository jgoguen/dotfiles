# vim: set filetype=zsh:
# Do not edit this file directly! It is managed by chezmoi.

zmodload zsh/complete
zmodload zsh/complist
zmodload zsh/datetime
zmodload zsh/pcre
zmodload zsh/zutil

autoload -U add-zsh-hook
autoload -Uz colors

for d in "site-functions" "completion"; do
	if [ ! -d "${USER_ZSH}/${d}" ]; then
		/usr/bin/install -d -m 0700 "${USER_ZSH}/${d}"
	fi
done

typeset -U fpath
for d in "${USER_ZSH}/completion" "${USER_ZSH}/site-functions"; do
	if [ -d "${d}" ]; then
		fpath=(${d} ${fpath})
	fi
done
{{- if eq .chezmoi.os "darwin" }}
if (( ${+commands[brew]} )); then
	fpath=($(brew --prefix)/share/zsh/site-functions ${fpath})
fi
{{- end }}

for f in "${USER_ZSH}"/site-functions/*; do
	autoload -U "$(basename "${f%%.zwc}")"
done

autoload -Uz compinit
compinit -d "${USER_ZSH}/zcompdump"
